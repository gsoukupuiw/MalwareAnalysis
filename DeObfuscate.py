
import base64
from bs4 import BeautifulSoup

# Obfuscated data from the script
obfuscated_data = {
    'sectionX': 'aHR0cHM6Ly9iYzFx',
    'sectionY': 'OXc4cno3NndsNzBwcWRm',
    'sectionZ': 'NjdybC5jb20vbG5rL3dlYi5qcw=='
}

def decode_base64(encoded_str):
    """Decode a base64 encoded string."""
    return base64.b64decode(encoded_str).decode('utf-8')

def extract_url(data):
    """Construct and decode the URL from obfuscated data."""
    decoded_parts = [decode_base64(data[key]) for key in ['sectionX', 'sectionY', 'sectionZ']]
    return ''.join(decoded_parts)

def analyze_script():
    """Prints the analysis of the de-obfuscated script."""
    decoded_url = extract_url(obfuscated_data)
    print(f"Decoded URL: {decoded_url}")

    # Simulate the script tag that would be inserted
    script_tag = f'<script src="{decoded_url}"></script>'
    print(f"Constructed Script Tag: {script_tag}")

    # Analyze the constructed script tag using BeautifulSoup (HTML parser)
    soup = BeautifulSoup(script_tag, 'html.parser')
    script_element = soup.find('script')

    print("\nScript Element Analysis:")
    print(f"Tag Name: {script_element.name}")
    print(f"Source URL: {script_element['src']}")

if __name__ == "__main__":
    analyze_script()
